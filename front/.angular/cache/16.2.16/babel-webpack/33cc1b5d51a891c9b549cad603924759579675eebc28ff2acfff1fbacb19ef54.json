{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UsersComponent = class UsersComponent {\n  constructor(userService, authService, router) {\n    this.userService = userService;\n    this.authService = authService;\n    this.router = router;\n    this.users = [];\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    if (this.hasPermission('can_read_users')) {\n      this.loadUsers();\n    }\n  }\n  loadUsers() {\n    this.userService.getAllUsers().subscribe({\n      next: data => this.users = data,\n      error: err => this.errorMessage = 'Greska pri ucitavanju korisnika'\n    });\n  }\n  hasPermission(permission) {\n    console.log(permission + ' --- ' + this.authService.hasPermission(permission));\n    return this.authService.hasPermission(permission);\n  }\n  deleteUser(id) {\n    if (confirm('Da li ste sigurni?')) {\n      this.userService.deleteUser(id).subscribe({\n        next: () => this.loadUsers(),\n        error: err => this.errorMessage = 'Greska pri brisanju korisnika'\n      });\n    }\n  }\n  formatPermission(perm) {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n};\nUsersComponent = __decorate([Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})], UsersComponent);","map":{"version":3,"names":["Component","UsersComponent","constructor","userService","authService","router","users","errorMessage","ngOnInit","hasPermission","loadUsers","getAllUsers","subscribe","next","data","error","err","permission","console","log","deleteUser","id","confirm","formatPermission","perm","replace","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\users\\users.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from 'src/models/user.model';\nimport { AuthService } from 'src/services/auth/auth.service';\nimport { UserService } from 'src/services/user/user.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit {\n  users: User[] = [];\n  errorMessage = '';\n\n  constructor(\n    private userService: UserService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    if (this.hasPermission('can_read_users')) {\n      this.loadUsers();\n    }\n  }\n\n  loadUsers(): void {\n    this.userService.getAllUsers().subscribe({\n      next: (data) => this.users = data,\n      error: (err) => this.errorMessage = 'Greska pri ucitavanju korisnika'\n    });\n  }\n\n  hasPermission(permission: string): boolean {\n    console.log(permission + ' --- ' + this.authService.hasPermission(permission));\n    return this.authService.hasPermission(permission);\n  }\n\n  deleteUser(id: number): void {\n    if (confirm('Da li ste sigurni?')) {\n      this.userService.deleteUser(id).subscribe({\n        next: () => this.loadUsers(),\n        error: (err) => this.errorMessage = 'Greska pri brisanju korisnika'\n      });\n    }\n  }\n\n  formatPermission(perm: string): string {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAFd,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IANhB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,YAAY,GAAG,EAAE;EAMd;EAEHC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACC,aAAa,CAAC,gBAAgB,CAAC,EAAE;MACxC,IAAI,CAACC,SAAS,EAAE;;EAEpB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACP,WAAW,CAACQ,WAAW,EAAE,CAACC,SAAS,CAAC;MACvCC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACR,KAAK,GAAGQ,IAAI;MACjCC,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACT,YAAY,GAAG;KACrC,CAAC;EACJ;EAEAE,aAAaA,CAACQ,UAAkB;IAC9BC,OAAO,CAACC,GAAG,CAACF,UAAU,GAAG,OAAO,GAAG,IAAI,CAACb,WAAW,CAACK,aAAa,CAACQ,UAAU,CAAC,CAAC;IAC9E,OAAO,IAAI,CAACb,WAAW,CAACK,aAAa,CAACQ,UAAU,CAAC;EACnD;EAEAG,UAAUA,CAACC,EAAU;IACnB,IAAIC,OAAO,CAAC,oBAAoB,CAAC,EAAE;MACjC,IAAI,CAACnB,WAAW,CAACiB,UAAU,CAACC,EAAE,CAAC,CAACT,SAAS,CAAC;QACxCC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACH,SAAS,EAAE;QAC5BK,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACT,YAAY,GAAG;OACrC,CAAC;;EAEN;EAEAgB,gBAAgBA,CAACC,IAAY;IAC3B,OAAOA,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EACpD;CACD;AAxCYxB,cAAc,GAAAyB,UAAA,EAL1B1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACW5B,cAAc,CAwC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}