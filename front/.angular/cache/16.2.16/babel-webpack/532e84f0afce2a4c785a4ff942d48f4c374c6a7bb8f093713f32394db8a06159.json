{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/user/user.service\";\nimport * as i2 from \"src/services/auth/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class UsersComponent {\n  constructor(userService, authService, router) {\n    this.userService = userService;\n    this.authService = authService;\n    this.router = router;\n    this.users = [];\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    if (this.hasPermission('can_read_users')) {\n      this.loadUsers();\n    }\n  }\n  loadUsers() {\n    this.userService.getAllUsers().subscribe({\n      next: data => this.users = data,\n      error: err => this.errorMessage = 'Greska pri ucitavanju korisnika'\n    });\n  }\n  hasPermission(permission) {\n    return this.authService.hasPermission(permission);\n  }\n  deleteUser(id) {\n    if (confirm('Da li ste sigurni?')) {\n      this.userService.deleteUser(id).subscribe({\n        next: () => this.loadUsers(),\n        error: err => this.errorMessage = 'Greska pri brisanju korisnika'\n      });\n    }\n  }\n  formatPermission(perm) {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n  static {\n    this.ɵfac = function UsersComponent_Factory(t) {\n      return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UsersComponent,\n      selectors: [[\"app-users\"]],\n      decls: 2,\n      vars: 0,\n      template: function UsersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"users works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["UsersComponent","constructor","userService","authService","router","users","errorMessage","ngOnInit","hasPermission","loadUsers","getAllUsers","subscribe","next","data","error","err","permission","deleteUser","id","confirm","formatPermission","perm","replace","i0","ɵɵdirectiveInject","i1","UserService","i2","AuthService","i3","Router","selectors","decls","vars","template","UsersComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\users\\users.component.ts","C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\users\\users.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from 'src/models/user.model';\nimport { AuthService } from 'src/services/auth/auth.service';\nimport { UserService } from 'src/services/user/user.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit {\n  users: User[] = [];\n  errorMessage = '';\n\n  constructor(\n    private userService: UserService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    if (this.hasPermission('can_read_users')) {\n      this.loadUsers();\n    }\n  }\n\n  loadUsers(): void {\n    this.userService.getAllUsers().subscribe({\n      next: (data) => this.users = data,\n      error: (err) => this.errorMessage = 'Greska pri ucitavanju korisnika'\n    });\n  }\n\n  hasPermission(permission: string): boolean {\n    return this.authService.hasPermission(permission);\n  }\n\n  deleteUser(id: number): void {\n    if (confirm('Da li ste sigurni?')) {\n      this.userService.deleteUser(id).subscribe({\n        next: () => this.loadUsers(),\n        error: (err) => this.errorMessage = 'Greska pri brisanju korisnika'\n      });\n    }\n  }\n\n  formatPermission(perm: string): string {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n}\n","<p>users works!</p>\n"],"mappings":";;;;AAWA,OAAM,MAAOA,cAAc;EAIzBC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAFd,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IANhB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,YAAY,GAAG,EAAE;EAMd;EAEHC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACC,aAAa,CAAC,gBAAgB,CAAC,EAAE;MACxC,IAAI,CAACC,SAAS,EAAE;;EAEpB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACP,WAAW,CAACQ,WAAW,EAAE,CAACC,SAAS,CAAC;MACvCC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACR,KAAK,GAAGQ,IAAI;MACjCC,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACT,YAAY,GAAG;KACrC,CAAC;EACJ;EAEAE,aAAaA,CAACQ,UAAkB;IAC9B,OAAO,IAAI,CAACb,WAAW,CAACK,aAAa,CAACQ,UAAU,CAAC;EACnD;EAEAC,UAAUA,CAACC,EAAU;IACnB,IAAIC,OAAO,CAAC,oBAAoB,CAAC,EAAE;MACjC,IAAI,CAACjB,WAAW,CAACe,UAAU,CAACC,EAAE,CAAC,CAACP,SAAS,CAAC;QACxCC,IAAI,EAAEA,CAAA,KAAM,IAAI,CAACH,SAAS,EAAE;QAC5BK,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACT,YAAY,GAAG;OACrC,CAAC;;EAEN;EAEAc,gBAAgBA,CAACC,IAAY;IAC3B,OAAOA,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EACpD;;;uBAtCWtB,cAAc,EAAAuB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAd9B,cAAc;MAAA+B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCX3Bb,EAAA,CAAAe,cAAA,QAAG;UAAAf,EAAA,CAAAgB,MAAA,mBAAY;UAAAhB,EAAA,CAAAiB,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}