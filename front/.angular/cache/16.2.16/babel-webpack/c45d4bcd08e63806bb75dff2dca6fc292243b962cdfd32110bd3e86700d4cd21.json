{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/machine/machine.service\";\nimport * as i2 from \"src/services/auth/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction MachinesComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1, \" Dodaj masinu \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class MachinesComponent {\n  constructor(machineService, authService, router) {\n    this.machineService = machineService;\n    this.authService = authService;\n    this.router = router;\n    this.machines = [];\n    this.searchCriteria = {};\n    this.selectedStatus = '';\n    this.successMessage = '';\n    this.errorMessage = '';\n  }\n  ngOnDestroy() {\n    throw new Error('Method not implemented.');\n  }\n  ngOnInit() {\n    throw new Error('Method not implemented.');\n  }\n  loadMachines() {\n    this.machineService.searchMachines(this.searchCriteria).subscribe({\n      next: data => this.machines = data,\n      error: err => this.errorMessage = 'Greska pri ucitavanju masina'\n    });\n  }\n  search() {\n    if (this.selectedStatus) {\n      this.searchCriteria.statuses = [this.selectedStatus];\n    } else {\n      this.searchCriteria.statuses = [];\n    }\n    this.loadMachines();\n  }\n  hasPermission(permission) {\n    return this.authService.hasPermission(permission);\n  }\n  formatDate(dateStr) {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('sr-RS');\n  }\n  static {\n    this.ɵfac = function MachinesComponent_Factory(t) {\n      return new (t || MachinesComponent)(i0.ɵɵdirectiveInject(i1.MachineService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MachinesComponent,\n      selectors: [[\"app-machines\"]],\n      decls: 33,\n      vars: 5,\n      consts: [[1, \"container\"], [1, \"machines-header\"], [\"routerLink\", \"/machines/new\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [1, \"filter-form\"], [1, \"form-row\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Pretrazi po nazivu\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"RUNNING\"], [\"value\", \"STOPPED\"], [\"type\", \"date\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"routerLink\", \"/machines/new\", 1, \"btn\", \"btn-primary\"]],\n      template: function MachinesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Masine\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, MachinesComponent_a_4_Template, 2, 0, \"a\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"h3\");\n          i0.ɵɵtext(7, \"Filteri\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"label\");\n          i0.ɵɵtext(11, \"Naziv\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function MachinesComponent_Template_input_ngModelChange_12_listener($event) {\n            return ctx.searchCriteria.name = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\");\n          i0.ɵɵtext(15, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"select\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function MachinesComponent_Template_select_ngModelChange_16_listener($event) {\n            return ctx.selectedStatus = $event;\n          });\n          i0.ɵɵelementStart(17, \"option\", 8);\n          i0.ɵɵtext(18, \"Svi\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"option\", 9);\n          i0.ɵɵtext(20, \"RUNNING\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"option\", 10);\n          i0.ɵɵtext(22, \"STOPPED\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(23, \"div\", 5)(24, \"label\");\n          i0.ɵɵtext(25, \"Datum od\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function MachinesComponent_Template_input_ngModelChange_26_listener($event) {\n            return ctx.searchCriteria.dateFrom = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 5)(28, \"label\");\n          i0.ɵɵtext(29, \"Datum do\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function MachinesComponent_Template_input_ngModelChange_30_listener($event) {\n            return ctx.searchCriteria.dateTo = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(31, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function MachinesComponent_Template_button_click_31_listener() {\n            return ctx.search();\n          });\n          i0.ɵɵtext(32, \"Pretrazi\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.hasPermission(\"can_create_machines\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.searchCriteria.name);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedStatus);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.searchCriteria.dateFrom);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.searchCriteria.dateTo);\n        }\n      },\n      dependencies: [i4.NgIf, i3.RouterLink, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n      styles: [\".machines-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnRzL21hY2hpbmVzL21hY2hpbmVzLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vZG9tYWNpJTIwd2ViL05hcHJlZG5vLVdlYi1Qcm9ncmFtaXJhbmplL3JhZi1jbG91ZC1mcm9udC9zcmMvY29tcG9uZW50cy9tYWNoaW5lcy9tYWNoaW5lcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FDQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIubWFjaGluZXMtaGVhZGVye1xyXG4gICAgZGlzcGxheTogZmxleDsgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IFxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSIsIi5tYWNoaW5lcy1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","MachinesComponent","constructor","machineService","authService","router","machines","searchCriteria","selectedStatus","successMessage","errorMessage","ngOnDestroy","Error","ngOnInit","loadMachines","searchMachines","subscribe","next","data","error","err","search","statuses","hasPermission","permission","formatDate","dateStr","date","Date","toLocaleDateString","ɵɵdirectiveInject","i1","MachineService","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","MachinesComponent_Template","rf","ctx","ɵɵtemplate","MachinesComponent_a_4_Template","ɵɵlistener","MachinesComponent_Template_input_ngModelChange_12_listener","$event","name","MachinesComponent_Template_select_ngModelChange_16_listener","MachinesComponent_Template_input_ngModelChange_26_listener","dateFrom","MachinesComponent_Template_input_ngModelChange_30_listener","dateTo","MachinesComponent_Template_button_click_31_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machines\\machines.component.ts","C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machines\\machines.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Machine, MachineSearchRequest } from 'src/models/machine.model';\nimport { AuthService } from 'src/services/auth/auth.service';\nimport { MachineService } from 'src/services/machine/machine.service';\n\n@Component({\n  selector: 'app-machines',\n  templateUrl: './machines.component.html',\n  styleUrls: ['./machines.component.scss']\n})\nexport class MachinesComponent implements OnInit, OnDestroy {\n  machines: Machine[] = [];\n  searchCriteria: MachineSearchRequest = {};\n  selectedStatus = '';\n  successMessage = '';\n  errorMessage = '';\n  private stompClient: any;\n\n  constructor(\n    private machineService: MachineService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n\n  ngOnDestroy(): void {\n    throw new Error('Method not implemented.');\n  }\n  ngOnInit(): void {\n    throw new Error('Method not implemented.');\n  }\n\n  loadMachines(): void {\n    this.machineService.searchMachines(this.searchCriteria).subscribe({\n      next: (data) => this.machines = data,\n      error: (err) => this.errorMessage = 'Greska pri ucitavanju masina'\n    });\n  }\n\n  search(): void {\n    if (this.selectedStatus) {\n      this.searchCriteria.statuses = [this.selectedStatus];\n    } else {\n      this.searchCriteria.statuses = [];\n    }\n    this.loadMachines();\n  }\n\n  \n  hasPermission(permission: string): boolean {\n    return this.authService.hasPermission(permission);\n  }\n  formatDate(dateStr: string): string {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('sr-RS');\n  }\n\n}\n","<div class=\"container\">\n\n    <div class=\"machines-header\">\n        <h1>Masine</h1>\n        <a routerLink=\"/machines/new\" class=\"btn btn-primary\" *ngIf=\"hasPermission('can_create_machines')\">\n            Dodaj masinu\n        </a>\n    </div>\n    <div class=\"filter-form\">\n        <h3>Filteri</h3>\n        <div class=\"form-row\">\n            <div class=\"form-group\">\n                <label>Naziv</label>\n                <input type=\"text\" [(ngModel)]=\"searchCriteria.name\" placeholder=\"Pretrazi po nazivu\">\n            </div>\n            <div class=\"form-group\">\n                <label>Status</label>\n                <select [(ngModel)]=\"selectedStatus\">\n                    <option value=\"\">Svi</option>\n                    <option value=\"RUNNING\">RUNNING</option>\n                    <option value=\"STOPPED\">STOPPED</option>\n                </select>\n            </div>\n            <div class=\"form-group\">\n                <label>Datum od</label>\n                <input type=\"date\" [(ngModel)]=\"searchCriteria.dateFrom\">\n            </div>\n            <div class=\"form-group\">\n                <label>Datum do</label>\n                <input type=\"date\" [(ngModel)]=\"searchCriteria.dateTo\">\n            </div>\n        </div>\n        <button class=\"btn btn-primary\" (click)=\"search()\">Pretrazi</button>\n    </div>\n\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}