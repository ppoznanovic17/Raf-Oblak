{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/user/user.service\";\nimport * as i2 from \"@angular/router\";\nexport class CreateUserComponent {\n  constructor(userService, router, route) {\n    this.userService = userService;\n    this.router = router;\n    this.route = route;\n    this.isEditMode = false;\n    this.userId = null;\n    this.errorMessage = '';\n    this.user = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      permissions: []\n    };\n    this.allPermissions = ['can_create_users', 'can_read_users', 'can_update_users', 'can_delete_users', 'can_search_machines', 'can_start_machines', 'can_stop_machines', 'can_restart_machines', 'can_create_machines', 'can_destroy_machines'];\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEditMode = true;\n      this.userId = +id;\n      this.loadUser();\n    }\n  }\n  loadUser() {\n    if (this.userId) {\n      this.userService.getUserById(this.userId).subscribe({\n        next: data => {\n          this.user = {\n            ...data\n          };\n        },\n        error: err => this.errorMessage = 'Greska pri ucitavanju korisnika'\n      });\n    }\n  }\n  togglePermission(perm) {\n    const index = this.user.permissions.indexOf(perm);\n    if (index > -1) {\n      this.user.permissions.splice(index, 1);\n    } else {\n      this.user.permissions.push(perm);\n    }\n  }\n  onSubmit() {\n    if (this.isEditMode && this.userId) {\n      const updateData = {\n        firstName: this.user.firstName,\n        lastName: this.user.lastName,\n        email: this.user.email,\n        permissions: this.user.permissions\n      };\n      this.userService.updateUser(this.userId, updateData).subscribe({\n        next: () => this.router.navigate(['/users']),\n        error: err => this.errorMessage = 'Greska pri azuriranju korisnika'\n      });\n    } else {\n      this.userService.createUser(this.user).subscribe({\n        next: () => this.router.navigate(['/users']),\n        error: err => this.errorMessage = 'Greska pri kreiranju korisnika'\n      });\n    }\n  }\n  cancel() {\n    this.router.navigate(['/users']);\n  }\n  formatPermission(perm) {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n  static {\n    this.ɵfac = function CreateUserComponent_Factory(t) {\n      return new (t || CreateUserComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreateUserComponent,\n      selectors: [[\"app-create-user\"]],\n      decls: 2,\n      vars: 0,\n      template: function CreateUserComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"create-user works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CreateUserComponent","constructor","userService","router","route","isEditMode","userId","errorMessage","user","firstName","lastName","email","password","permissions","allPermissions","ngOnInit","id","snapshot","paramMap","get","loadUser","getUserById","subscribe","next","data","error","err","togglePermission","perm","index","indexOf","splice","push","onSubmit","updateData","updateUser","navigate","createUser","cancel","formatPermission","replace","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","ActivatedRoute","selectors","decls","vars","template","CreateUserComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\create-user\\create-user.component.ts","C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\create-user\\create-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from 'src/services/user/user.service';\n\n@Component({\n  selector: 'app-create-user',\n  templateUrl: './create-user.component.html',\n  styleUrls: ['./create-user.component.scss']\n})\nexport class CreateUserComponent implements OnInit{\n  isEditMode = false;\n  userId: number | null = null;\n  errorMessage = '';\n  \n  user: any = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    permissions: []\n  };\n\n  allPermissions = [\n    'can_create_users',\n    'can_read_users',\n    'can_update_users',\n    'can_delete_users',\n    'can_search_machines',\n    'can_start_machines',\n    'can_stop_machines',\n    'can_restart_machines',\n    'can_create_machines',\n    'can_destroy_machines'\n  ];\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEditMode = true;\n      this.userId = +id;\n      this.loadUser();\n    }\n  }\n\n  loadUser(): void {\n    if (this.userId) {\n      this.userService.getUserById(this.userId).subscribe({\n        next: (data) => {\n          this.user = { ...data };\n        },\n        error: (err) => this.errorMessage = 'Greska pri ucitavanju korisnika'\n      });\n    }\n  }\n\n  togglePermission(perm: string): void {\n    const index = this.user.permissions.indexOf(perm);\n    if (index > -1) {\n      this.user.permissions.splice(index, 1);\n    } else {\n      this.user.permissions.push(perm);\n    }\n  }\n\n  onSubmit(): void {\n    if (this.isEditMode && this.userId) {\n      const updateData = {\n        firstName: this.user.firstName,\n        lastName: this.user.lastName,\n        email: this.user.email,\n        permissions: this.user.permissions\n      };\n      this.userService.updateUser(this.userId, updateData).subscribe({\n        next: () => this.router.navigate(['/users']),\n        error: (err) => this.errorMessage = 'Greska pri azuriranju korisnika'\n      });\n    } else {\n      this.userService.createUser(this.user).subscribe({\n        next: () => this.router.navigate(['/users']),\n        error: (err) => this.errorMessage = 'Greska pri kreiranju korisnika'\n      });\n    }\n  }\n\n  cancel(): void {\n    this.router.navigate(['/users']);\n  }\n\n  formatPermission(perm: string): string {\n    return perm.replace('can_', '').replace(/_/g, ' ');\n  }\n}\n","<p>create-user works!</p>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}