{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/errorLog/error-log.service\";\nimport * as i2 from \"@angular/common\";\nfunction MachineErrorsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction MachineErrorsComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 5);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const error_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDateTime(error_r3.timestamp));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r3.machineName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(error_r3.operation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r3.errorMessage);\n  }\n}\nfunction MachineErrorsComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 6);\n    i0.ɵɵtext(2, \"Nema gresaka\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class MachineErrorsComponent {\n  constructor(errorLogService) {\n    this.errorLogService = errorLogService;\n    this.errors = [];\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.loadErrors();\n  }\n  loadErrors() {\n    this.errorLogService.getErrorLogs().subscribe({\n      next: data => this.errors = data,\n      error: err => this.errorMessage = 'Greska pri ucitavanju istorije gresaka'\n    });\n  }\n  formatDateTime(dateStr) {\n    const date = new Date(dateStr);\n    return date.toLocaleString('sr-RS');\n  }\n  static {\n    this.ɵfac = function MachineErrorsComponent_Factory(t) {\n      return new (t || MachineErrorsComponent)(i0.ɵɵdirectiveInject(i1.ErrorLogService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MachineErrorsComponent,\n      selectors: [[\"app-machine-errors\"]],\n      decls: 18,\n      vars: 3,\n      consts: [[1, \"container\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"badge\", \"badge-danger\"], [\"colspan\", \"4\", 2, \"text-align\", \"center\"]],\n      template: function MachineErrorsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Istorija gresaka\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, MachineErrorsComponent_div_3_Template, 2, 1, \"div\", 1);\n          i0.ɵɵelementStart(4, \"table\")(5, \"thead\")(6, \"tr\")(7, \"th\");\n          i0.ɵɵtext(8, \"Vreme\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Masina\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\");\n          i0.ɵɵtext(12, \"Operacija\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"th\");\n          i0.ɵɵtext(14, \"Poruka o greski\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"tbody\");\n          i0.ɵɵtemplate(16, MachineErrorsComponent_tr_16_Template, 10, 4, \"tr\", 2);\n          i0.ɵɵtemplate(17, MachineErrorsComponent_tr_17_Template, 3, 0, \"tr\", 3);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.errors);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errors.length === 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","ctx_r1","formatDateTime","error_r3","timestamp","machineName","operation","MachineErrorsComponent","constructor","errorLogService","errors","ngOnInit","loadErrors","getErrorLogs","subscribe","next","data","error","err","dateStr","date","Date","toLocaleString","ɵɵdirectiveInject","i1","ErrorLogService","selectors","decls","vars","consts","template","MachineErrorsComponent_Template","rf","ctx","ɵɵtemplate","MachineErrorsComponent_div_3_Template","MachineErrorsComponent_tr_16_Template","MachineErrorsComponent_tr_17_Template","ɵɵproperty","length"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machine-errors\\machine-errors.component.ts","C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machine-errors\\machine-errors.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ErrorLog } from 'src/models/machine.model';\nimport { ErrorLogService } from 'src/services/errorLog/error-log.service';\n\n@Component({\n  selector: 'app-machine-errors',\n  templateUrl: './machine-errors.component.html',\n  styleUrls: ['./machine-errors.component.scss']\n})\nexport class MachineErrorsComponent implements OnInit {\n  errors: ErrorLog[] = [];\n  errorMessage = '';\n\n  constructor(private errorLogService: ErrorLogService) {}\n\n  ngOnInit(): void {\n    this.loadErrors();\n  }\n\n  loadErrors(): void {\n    this.errorLogService.getErrorLogs().subscribe({\n      next: (data) => this.errors = data,\n      error: (err) => this.errorMessage = 'Greska pri ucitavanju istorije gresaka'\n    });\n  }\n\n  formatDateTime(dateStr: string): string {\n    const date = new Date(dateStr);\n    return date.toLocaleString('sr-RS');\n  }\n}\n","<div class=\"container\">\n      <h1>Istorija gresaka</h1>\n      \n      <div *ngIf=\"errorMessage\" class=\"alert alert-danger\">{{errorMessage}}</div>\n      \n      <table>\n        <thead>\n          <tr>\n            <th>Vreme</th>\n            <th>Masina</th>\n            <th>Operacija</th>\n            <th>Poruka o greski</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let error of errors\">\n            <td>{{formatDateTime(error.timestamp)}}</td>\n            <td>{{error.machineName}}</td>\n            <td>\n              <span class=\"badge badge-danger\">{{error.operation}}</span>\n            </td>\n            <td>{{error.errorMessage}}</td>\n          </tr>\n          <tr *ngIf=\"errors.length === 0\">\n            <td colspan=\"4\" style=\"text-align: center;\">Nema gresaka</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}