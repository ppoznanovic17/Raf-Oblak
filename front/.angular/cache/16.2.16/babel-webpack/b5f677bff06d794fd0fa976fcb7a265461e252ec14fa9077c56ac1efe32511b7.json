{"ast":null,"code":"import { Router } from '@angular/router';\nimport { inject } from '@angular/core';\nexport const authGuard = (route, state) => {\n  const router = inject(Router);\n  const token = localStorage.getItem('token');\n  // Ako nema token i ruta nije /login → preusmeri\n  if (!token && state.url !== '/login') {\n    router.navigate(['/login']);\n    return false;\n  }\n  // Ako ima token ili ide na /login → dozvoli\n  return true;\n};","map":{"version":3,"names":["Router","inject","authGuard","route","state","router","token","localStorage","getItem","url","navigate"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\app\\auth.guard.ts"],"sourcesContent":["import { CanActivateFn, Router } from '@angular/router';\nimport { inject } from '@angular/core';\n\nexport const authGuard: CanActivateFn = (route, state) => {\n  const router = inject(Router);\n  const token = localStorage.getItem('token');\n\n  // Ako nema token i ruta nije /login → preusmeri\n  if (!token && state.url !== '/login') {\n    router.navigate(['/login']);\n    return false;\n  }\n\n  // Ako ima token ili ide na /login → dozvoli\n  return true;\n};"],"mappings":"AAAA,SAAwBA,MAAM,QAAQ,iBAAiB;AACvD,SAASC,MAAM,QAAQ,eAAe;AAEtC,OAAO,MAAMC,SAAS,GAAkBA,CAACC,KAAK,EAAEC,KAAK,KAAI;EACvD,MAAMC,MAAM,GAAGJ,MAAM,CAACD,MAAM,CAAC;EAC7B,MAAMM,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C;EACA,IAAI,CAACF,KAAK,IAAIF,KAAK,CAACK,GAAG,KAAK,QAAQ,EAAE;IACpCJ,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC3B,OAAO,KAAK;;EAGd;EACA,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}