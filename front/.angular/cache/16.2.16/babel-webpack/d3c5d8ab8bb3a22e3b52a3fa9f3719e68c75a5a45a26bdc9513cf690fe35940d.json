{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/machine/machine.service\";\nimport * as i2 from \"src/services/auth/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction MachinesComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 3);\n    i0.ɵɵtext(1, \" Dodaj masinu \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class MachinesComponent {\n  constructor(machineService, authService, router) {\n    this.machineService = machineService;\n    this.authService = authService;\n    this.router = router;\n    this.machines = [];\n    this.searchCriteria = {};\n    this.selectedStatus = '';\n    this.successMessage = '';\n    this.errorMessage = '';\n  }\n  ngOnDestroy() {\n    throw new Error('Method not implemented.');\n  }\n  ngOnInit() {\n    throw new Error('Method not implemented.');\n  }\n  loadMachines() {\n    this.machineService.searchMachines(this.searchCriteria).subscribe({\n      next: data => this.machines = data,\n      error: err => this.errorMessage = 'Greska pri ucitavanju masina'\n    });\n  }\n  search() {\n    if (this.selectedStatus) {\n      this.searchCriteria.statuses = [this.selectedStatus];\n    } else {\n      this.searchCriteria.statuses = [];\n    }\n    this.loadMachines();\n  }\n  hasPermission(permission) {\n    return this.authService.hasPermission(permission);\n  }\n  formatDate(dateStr) {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('sr-RS');\n  }\n  static {\n    this.ɵfac = function MachinesComponent_Factory(t) {\n      return new (t || MachinesComponent)(i0.ɵɵdirectiveInject(i1.MachineService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MachinesComponent,\n      selectors: [[\"app-machines\"]],\n      decls: 5,\n      vars: 1,\n      consts: [[1, \"container\"], [1, \"machines-header\"], [\"routerLink\", \"/machines/new\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [\"routerLink\", \"/machines/new\", 1, \"btn\", \"btn-primary\"]],\n      template: function MachinesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Masine\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, MachinesComponent_a_4_Template, 2, 0, \"a\", 2);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.hasPermission(\"can_create_machines\"));\n        }\n      },\n      dependencies: [i4.NgIf, i3.RouterLink],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","MachinesComponent","constructor","machineService","authService","router","machines","searchCriteria","selectedStatus","successMessage","errorMessage","ngOnDestroy","Error","ngOnInit","loadMachines","searchMachines","subscribe","next","data","error","err","search","statuses","hasPermission","permission","formatDate","dateStr","date","Date","toLocaleDateString","ɵɵdirectiveInject","i1","MachineService","i2","AuthService","i3","Router","selectors","decls","vars","consts","template","MachinesComponent_Template","rf","ctx","ɵɵtemplate","MachinesComponent_a_4_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machines\\machines.component.ts","C:\\Users\\petar.poznanovic\\Desktop\\domaci web\\Napredno-Web-Programiranje\\raf-cloud-front\\src\\components\\machines\\machines.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Machine, MachineSearchRequest } from 'src/models/machine.model';\nimport { AuthService } from 'src/services/auth/auth.service';\nimport { MachineService } from 'src/services/machine/machine.service';\n\n@Component({\n  selector: 'app-machines',\n  templateUrl: './machines.component.html',\n  styleUrls: ['./machines.component.scss']\n})\nexport class MachinesComponent implements OnInit, OnDestroy {\n  machines: Machine[] = [];\n  searchCriteria: MachineSearchRequest = {};\n  selectedStatus = '';\n  successMessage = '';\n  errorMessage = '';\n  private stompClient: any;\n\n  constructor(\n    private machineService: MachineService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n\n  ngOnDestroy(): void {\n    throw new Error('Method not implemented.');\n  }\n  ngOnInit(): void {\n    throw new Error('Method not implemented.');\n  }\n\n  loadMachines(): void {\n    this.machineService.searchMachines(this.searchCriteria).subscribe({\n      next: (data) => this.machines = data,\n      error: (err) => this.errorMessage = 'Greska pri ucitavanju masina'\n    });\n  }\n\n  search(): void {\n    if (this.selectedStatus) {\n      this.searchCriteria.statuses = [this.selectedStatus];\n    } else {\n      this.searchCriteria.statuses = [];\n    }\n    this.loadMachines();\n  }\n\n  \n  hasPermission(permission: string): boolean {\n    return this.authService.hasPermission(permission);\n  }\n  formatDate(dateStr: string): string {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('sr-RS');\n  }\n\n}\n","<div class=\"container\">\n\n    <div class=\"machines-header\">\n        <h1>Masine</h1>\n        <a routerLink=\"/machines/new\" class=\"btn btn-primary\" *ngIf=\"hasPermission('can_create_machines')\">\n          Dodaj masinu\n        </a>\n      </div>\n\n</div>"],"mappings":";;;;;;;ICIQA,EAAA,CAAAC,cAAA,WAAmG;IACjGD,EAAA,CAAAE,MAAA,qBACF;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADKZ,OAAM,MAAOC,iBAAiB;EAQ5BC,YACUC,cAA8B,EAC9BC,WAAwB,EACxBC,MAAc;IAFd,KAAAF,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAVhB,KAAAC,QAAQ,GAAc,EAAE;IACxB,KAAAC,cAAc,GAAyB,EAAE;IACzC,KAAAC,cAAc,GAAG,EAAE;IACnB,KAAAC,cAAc,GAAG,EAAE;IACnB,KAAAC,YAAY,GAAG,EAAE;EAOd;EAGHC,WAAWA,CAAA;IACT,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC5C;EACAC,QAAQA,CAAA;IACN,MAAM,IAAID,KAAK,CAAC,yBAAyB,CAAC;EAC5C;EAEAE,YAAYA,CAAA;IACV,IAAI,CAACX,cAAc,CAACY,cAAc,CAAC,IAAI,CAACR,cAAc,CAAC,CAACS,SAAS,CAAC;MAChEC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACZ,QAAQ,GAAGY,IAAI;MACpCC,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACV,YAAY,GAAG;KACrC,CAAC;EACJ;EAEAW,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACb,cAAc,EAAE;MACvB,IAAI,CAACD,cAAc,CAACe,QAAQ,GAAG,CAAC,IAAI,CAACd,cAAc,CAAC;KACrD,MAAM;MACL,IAAI,CAACD,cAAc,CAACe,QAAQ,GAAG,EAAE;;IAEnC,IAAI,CAACR,YAAY,EAAE;EACrB;EAGAS,aAAaA,CAACC,UAAkB;IAC9B,OAAO,IAAI,CAACpB,WAAW,CAACmB,aAAa,CAACC,UAAU,CAAC;EACnD;EACAC,UAAUA,CAACC,OAAe;IACxB,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,OAAO,CAAC;IAC9B,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,CAAC;EACzC;;;uBA7CW5B,iBAAiB,EAAAJ,EAAA,CAAAiC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAnC,EAAA,CAAAiC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAArC,EAAA,CAAAiC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAjBnC,iBAAiB;MAAAoC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCX9B9C,EAAA,CAAAC,cAAA,aAAuB;UAGXD,EAAA,CAAAE,MAAA,aAAM;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACfH,EAAA,CAAAgD,UAAA,IAAAC,8BAAA,eAEI;UACNjD,EAAA,CAAAG,YAAA,EAAM;;;UAHmDH,EAAA,CAAAkD,SAAA,GAA0C;UAA1ClD,EAAA,CAAAmD,UAAA,SAAAJ,GAAA,CAAArB,aAAA,wBAA0C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}