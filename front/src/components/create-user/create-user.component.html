<div class="container">
      <h1>{{isEditMode ? 'Azuriraj korisnika' : 'Dodaj korisnika'}}</h1>
      
      <div *ngIf="errorMessage" class="alert alert-danger">{{errorMessage}}</div>
      
      <form (ngSubmit)="createUser()">
        <div class="form-group">
          <label>Ime *</label>
          <input type="text" [(ngModel)]="user.firstName" name="firstName" required>
        </div>
        
        <div class="form-group">
          <label>Prezime *</label>
          <input type="text" [(ngModel)]="user.lastName" name="lastName" required>
        </div>
        
        <div class="form-group">
          <label>Email *</label>
          <input type="email" [(ngModel)]="user.email" name="email" required>
        </div>
        
        <div class="form-group" *ngIf="!isEditMode">
          <label>Lozinka *</label>
          <input type="password" [(ngModel)]="user.password" name="password" required>
        </div>
        
        <div class="form-group-1">
          <label>Dozvole</label>
          <div *ngFor="let perm of allPermissions">
            <label style="width: 250px; line-height: 20px; display: flex;">
                <span style="width: 60px;">
                     {{formatPermission(perm) }}
                </span>

              <input type="checkbox" 
                    style="width: 50px;"
                     [checked]="user.permissions.includes(perm)"
                     (change)="togglePermission(perm)">
             
            </label>
          </div>
        </div>
        
        <div class="action-buttons">
          <button type="submit" class="btn btn-success">Sacuvaj</button>
          <button type="button" class="btn btn-danger" (click)="cancel()">Otkazi</button>
        </div>
      </form>
    </div>